---
title: "Explore NEON lidar data"
author: "Sarah Graves"
date: "June 17, 2016"
output: html_document
---
# Sarah Graves

## Personal Bio

My name is Sarah Graves. I am a PhD student in Forest Resources and Conservation at the University of Florida in Gainesville. My area of interest is forest ecology and dynamics, and how to understood processes at large scales via remote sensing.

One goal I have for the course is to build (or have the tools to build) a flexible workflow to extract hyperspectral and lidar data (from L1 or L3) NEON AOP products with spatially explicit data, such as plot locations. The flexibility aspect relates to an automated way to link the spatial area (ie, polygon shapefile) with the geographically relevant AOP file.


## Capstone Project

For my project, I want to explore the spectral variability of various plots within and across NEON sites. Specifically, I want to quantify how much spectral variability is related to characteristics of the plot or stand, including species composition and vegetation structure. In this process, I hope to understand or hypothesize about what other characteristics explain spectral variability. This project requires resolving some issues, like how to quantify spectral variability and how to separate species found in a plot to canopy and understory species (for forested plots).

I am interested in sites in Domain 3 (Southeast), Domain 8 (Ozarks Complex), and Domain  7 (Appalachians & Cumberland Plateau).

The data required for this project include:
* L1 hyperspectral
* L3 lidar
* plot information for **Plant presence and percent cover** plots (with spatially explicit point or polygon information)
* vegetation structure data (if it exists?)

# Week 3 project

This is a demonstration of using R markdown to import and display a set of *NEON-AOP* data from the TEAK site. The following code imports .tif files that are saved on the local disc, plots these images using the `raster` package, and plots raster values of 2 datasets in a histogram.

Files are imported as raster objects. The outputs generated are images rendered in the HTML output. Nothing is saved to file.

```{r LOAD-PACKAGES, warnings=F}

library(rgdal)
library(raster)

# ensure working directory is correct
# when using projects, the working directory is automatically set
setwd("C:/Users/sjgraves/Documents/UF/NEON/institute2016")

```

Load the *Digital Surface Model* from file. This raster contains values that represent Earth's surface, including the ground elevation and height of all features on the surface. 

Load the *Canopy Height Model* from file. This raster contains values that represent the height of the surface features. The CHM is generated by taking the vertical difference of the DSM and the Digital Terrain Model, which is the elevation of Earth's surface.

```{r LOAD-RASTER-DATA}

# load raster data from file
dsm <- raster("data/NEONDI-2016/NEONdata/D17-California/TEAK/2013/lidar/TEAK_lidarDSM.tif")

# load raster data from file
chm <- raster("data/NEONDI-2016/NEONdata/D17-California/TEAK/2013/lidar/TEAK_lidarCHM.tif")

```


```{r VIEW-RASTER,echo=F}

plot(dsm,main="NEON-AOP Digital Surface Model for TEAK")
plot(chm,main="NEON-AOP Canopy Height Model for TEAK")

```


Here we show the differerences in values between the DSM and the CHM. The DSM has values in the thousands with a mean around 2300. The CHM represents just the height of the vegetation. Therefore, the values are much smaller than the DSM, with values less than 10 meters.  

```{r COMPARE-RASTER-DATA,echo=F}

# plot data as histograms

par(mfrow=c(1,2))

hist(dsm,main="DSM")

hist(chm,main="CHM")

```
